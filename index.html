<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ComGirl Wiki</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: var(--main-font, 'Arial', sans-serif);
background: #0a0a0a;
color: #fff;
overflow-x: hidden;
}

/* Background Effects */
.background-wrapper {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -1;
overflow: hidden;
}

.bg-overlay {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
opacity: 0.9;
}

.bg-pattern {
position: absolute;
top: 0;
left: 0;
width: 120%;
height: 120%;
background:
radial-gradient(circle at 20% 20%, rgba(255, 213, 248 0.05) 0%, transparent 50%),
radial-gradient(circle at 80% 80%, rgba(138, 43, 226, 0.05) 0%, transparent 50%),
radial-gradient(circle at 40% 60%, rgba(255, 20, 147, 0.03) 0%, transparent 50%);
animation: float 20s ease-in-out infinite;
}

.floating-particles {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
overflow: hidden;
}

.particle {
position: absolute;
width: 2px;
height: 2px;
background: rgba(255, 213, 248 0.6);
border-radius: 50%;
animation: particleFloat 25s infinite linear;
}

@keyframes particleFloat {
0% {
transform: translateY(100vh) rotate(0deg);
opacity: 0;
}
10% {
opacity: 1;
}
90% {
opacity: 1;
}
100% {
transform: translateY(-100vh) rotate(360deg);
opacity: 0;
}
}

@keyframes float {
0%, 100% {
transform: translateX(0px) translateY(0px) rotate(0deg);
}
33% {
transform: translateX(10px) translateY(-10px) rotate(1deg);
}
66% {
transform: translateX(-5px) translateY(5px) rotate(-1deg);
}
}

/* Navigation toggle */
.nav-toggle {
position: fixed;
top: 50%;
left: 20px;
transform: translateY(-50%);
background: linear-gradient(135deg, #333 0%, #555 100%);
color: #fff;
border: none;
padding: 12px 18px;
font-size: 20px;
cursor: pointer;
z-index: 10000;
border-radius: 8px;
transition: all 0.5s ease; /* Match sidebar transition duration */
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
font-family: var(--main-font, 'Arial', sans-serif);
}

.nav-toggle:hover {
background: linear-gradient(135deg, #555 0%, #777 100%);
transform: translateY(-50%) scale(1.05);
}

.nav-toggle.flipped {
transform: translateY(-50%) rotateY(180deg);
}

/* Move toggle button when sidebar is active */
.nav-toggle.moved {
left: 320px; /* 300px sidebar width + 20px spacing */
}

.nav-toggle.moved:hover {
transform: translateY(-50%) scale(1.05);
}

.nav-toggle.moved.flipped {
transform: translateY(-50%) rotateY(180deg);
}

/* Sidebar */
.sidebar {
position: fixed;
top: 0;
left: -300px;
width: 300px;
height: 100vh;
background: linear-gradient(135deg, #111 0%, #222 100%);
transition: left 0.5s ease;
z-index: 9999;
padding: 30px 20px;
border-right: 1px solid #333;
box-shadow: 5px 0 20px rgba(0, 0, 0, 0.5);
}

.sidebar.active {
left: 0;
}

.sidebar-logo {
width: 100%;
max-width: 200px;
height: auto;
margin: 0 auto 30px;
display: block;
filter: drop-shadow(0 0 10px rgba(255, 213, 248 0.3));
}

.nav-item {
background: linear-gradient(135deg, #222 0%, #333 100%);
border-radius: 12px;
margin: 15px 0;
padding: 18px;
cursor: pointer;
transition: all 0.3s ease;
transform: translateX(-350px);
opacity: 0;
display: flex;
align-items: center;
gap: 15px;
border: 1px solid #444;
}

.nav-item:hover {
background: linear-gradient(135deg, #333 0%, #444 100%);
transform: translateX(0) scale(1.05);
border-color: #FFD5F8;
box-shadow: 0 5px 20px rgba(255, 213, 248, 0.2);
}

.nav-item.animate {
transform: translateX(0);
opacity: 1;
}

.nav-item.animate:nth-child(2) { transition-delay: 0.1s; }
.nav-item.animate:nth-child(3) { transition-delay: 0.2s; }
.nav-item.animate:nth-child(4) { transition-delay: 0.3s; }
.nav-item.animate:nth-child(5) { transition-delay: 0.4s; }
.nav-item.animate:nth-child(6) { transition-delay: 0.5s; }
.nav-item.animate:nth-child(7) { transition-delay: 0.6s; }

.nav-icon {
width: 35px;
height: 24px;
text-align: center;
display: flex;
align-items: center;
justify-content: center;
}

.nav-icon img {
width: 33px;
height: 33px;
object-fit: contain;
}

.nav-text {
font-size: 16px;
font-weight: 500;
font-family: var(--nav-font, var(--main-font, 'Arial', sans-serif));
flex: 1;
}

.nav-text img {
height: 30px;
width: auto;
object-fit: contain;
}

/* Main content area */
.main-content {
transition: margin-left 0.5s ease;
min-height: 100vh;
margin-left: 0;
position: relative;
}

.main-content.shifted {
margin-left: 300px;
}

/* Page content */
.page {
display: none;
animation: fadeIn 0.5s ease;
padding: 20px;
}

.page.active {
display: block;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

/* Home page styles */
.hero {
min-height: 100vh;
display: flex;
align-items: center;
justify-content: center;
text-align: center;
position: relative;
padding: 0 20px;
}

.hero-content {
max-width: 800px;
z-index: 1;
}

.hero-title-container {
margin-bottom: 20px;
}

.hero-title-image {
max-width: 100%;
height: auto;
max-height: 120px;
display: block;
margin: 0 auto;
filter: drop-shadow(0 0 30px rgba(255, 213, 248 0.3));
transition: all 0.3s ease;
}

.hero-title-image:hover {
transform: scale(1.05);
filter: drop-shadow(0 0 40px rgba(255, 255, 255, 0.5));
}

.hero p {
font-size: 1.2rem;
margin-bottom: 40px;
color: #ccc;
font-family: var(--hero-font, var(--main-font, 'Arial', sans-serif));
}

.cta-buttons {
display: flex;
gap: 20px;
justify-content: center;
flex-wrap: wrap;
}

.cta-button {
padding: 15px 30px;
border: none;
border-radius: 25px;
font-size: 16px;
font-weight: bold;
cursor: pointer;
transition: all 0.3s ease;
text-decoration: none;
display: inline-block;
font-family: var(--button-font, var(--main-font, 'Arial', sans-serif));
}

.cta-button.primary {
background: linear-gradient(135deg, #FFD5F8 0%, #8a2be2 100%);
color: white;
}

.cta-button.primary:hover {
transform: translateY(-2px);
box-shadow: 0 10px 30px rgba(255, 213, 248, 0.3);
}

.cta-button.secondary {
background: transparent;
color: #FFD5F8;
border: 2px solid #FFD5F8;
}

.cta-button.secondary:hover {
background: #FFD5F8;
color: white;
transform: translateY(-2px);
}

/* Archive page styles */
.profile-card {
background: linear-gradient(135deg, #111 0%, #222 100%);
border-radius: 20px;
padding: 40px;
max-width: 500px;
margin: 50px auto;
text-align: center;
border: 1px solid #333;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

.profile-pic {
width: 150px;
height: 150px;
border-radius: 50%;
object-fit: cover;
margin-bottom: 25px;
border: 3px solid #FFD5F8;
box-shadow: 0 0 20px rgba(255, 213, 248 0.3);
}

.username {
font-size: 28px;
color: #FFD5F8;
margin-bottom: 15px;
font-weight: bold;
font-family: var(--archive-title-font, var(--title-font, var(--main-font, 'Arial', sans-serif)));
}

.description {
color: #ccc;
margin-bottom: 35px;
line-height: 1.6;
font-size: 16px;
font-family: var(--archive-desc-font, var(--content-font, var(--main-font, 'Arial', sans-serif)));
}

.action-buttons {
display: flex;
gap: 15px;
justify-content: center;
flex-wrap: wrap;
}

.action-btn {
background: linear-gradient(135deg, #333 0%, #555 100%);
color: #fff;
border: none;
padding: 12px 25px;
border-radius: 25px;
cursor: pointer;
display: flex;
align-items: center;
gap: 10px;
transition: all 0.3s ease;
text-decoration: none;
font-size: 14px;
border: 1px solid #444;
font-family: var(--button-font, var(--main-font, 'Arial', sans-serif));
}

.action-btn:hover {
background: linear-gradient(135deg, #FFD5F8 0%, #CCCCCC 100%);
transform: translateY(-2px);
box-shadow: 0 5px 20px rgba(255, 213, 248 0.3);
}

/* Content sections */
.content-section {
max-width: 1200px;
margin: 0 auto;
padding: 40px 20px;
}

.section-title {
font-size: 2.5rem;
color: #FFD5F8;
text-align: center;
margin-bottom: 40px;
font-weight: bold;
font-family: var(--title-font, var(--main-font, 'Arial', sans-serif));
}

/* Multiple profiles styling */
.profiles-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 40px;
    margin: 40px 0;
}

.profile-card {
    background: linear-gradient(135deg, #111 0%, #222 100%);
    border-radius: 20px;
    padding: 40px;
    text-align: center;
    border: 1px solid #333;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    position: relative;
    overflow: hidden;
    min-height: 500px;
}

.profile-card.highlighted {
    border-color: #FFD5F8;
    box-shadow: 0 10px 30px rgba(255, 213, 248, 0.3);
}

/* Profile content containers */
.profile-content, .stats-content {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.profile-content.hidden {
    opacity: 0;
    transform: translateY(20px);
    pointer-events: none;
}

.stats-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 40px;
    opacity: 0;
    transform: translateY(20px);
    pointer-events: none;
}

.stats-content.active {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

/* Responsive grid adjustments */
@media (max-width: 1200px) {
    .profiles-container {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .profile-card {
        min-height: 400px;
        padding: 30px;
    }
}

/* Stats toggle button */
.stats-toggle {
position: absolute;
top: 15px;
right: 15px;
width: 40px;
height: 40px;
background: linear-gradient(135deg, #333 0%, #555 100%);
border: none;
border-radius: 8px;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: all 0.3s ease;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
z-index: 10;
}

.stats-toggle:hover {
background: linear-gradient(135deg, #FFD5F8 0%, #8a2be2 100%);
transform: scale(1.05);
}

.stats-toggle img {
width: 24px;
height: 24px;
object-fit: contain;
transition: transform 0.3s ease;
}

.stats-toggle.active img {
transform: rotate(180deg);
}

/* Profile card positioning */
.profile-card {
position: relative;
overflow: hidden;
}

/* Profile content containers */
.profile-content, .stats-content {
transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.profile-content.hidden {
opacity: 0;
transform: translateY(20px);
pointer-events: none;
}

.stats-content {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
padding: 40px;
opacity: 0;
transform: translateY(20px);
pointer-events: none;
}

.stats-content.active {
opacity: 1;
transform: translateY(0);
pointer-events: auto;
}

/* Type badge */
.type-badge {
display: inline-block;
background: linear-gradient(135deg, #FFD5F8 0%, #8a2be2 100%);
color: white;
padding: 8px 16px;
border-radius: 20px;
font-size: 14px;
font-weight: bold;
margin-bottom: 20px;
cursor: pointer;
transition: all 0.3s ease;
}

.type-badge:hover {
transform: scale(1.05);
box-shadow: 0 4px 15px rgba(255, 213, 248, 0.3);
}

/* Custom type popup - IMPROVED */
.type-popup {
    position: fixed;
    z-index: 10001; /* Higher z-index */
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
}

.type-popup.active {
    opacity: 1;
    pointer-events: auto;
}

.type-popup .line-horizontal {
    position: absolute;
    height: 2px;
    background: #FFD5F8;
    width: 0;
    transition: width 0.5s ease;
    box-shadow: 0 0 4px rgba(255, 213, 248, 0.5);
}

.type-popup .line-vertical {
    position: absolute;
    width: 2px;
    background: #FFD5F8;
    height: 0;
    transition: height 0.5s ease;
    box-shadow: 0 0 4px rgba(255, 213, 248, 0.5);
}

.type-popup .popup-box {
    position: absolute;
    background: linear-gradient(135deg, #111 0%, #222 100%);
    border: 2px solid #FFD5F8;
    border-radius: 10px;
    padding: 20px;
    min-width: 200px;
    max-width: 300px;
    box-shadow: 0 5px 30px rgba(0, 0, 0, 0.8);
    transform: scale(0);
    transition: transform 0.3s ease;
    color: #fff;
    z-index: 10002;
}

.type-popup .popup-box.visible {
    transform: scale(1);
}

.type-popup .popup-box h4 {
    color: #FFD5F8;
    margin-bottom: 10px;
    font-size: 18px;
    font-weight: bold;
}

.type-popup .popup-box p {
    color: #ccc;
    line-height: 1.5;
    font-size: 14px;
    margin: 0;
}

.type-popup .close-btn {
    position: absolute;
    top: 8px;
    right: 12px;
    background: none;
    border: none;
    color: #FFD5F8;
    font-size: 18px;
    cursor: pointer;
    padding: 0;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.type-popup .close-btn:hover {
    color: #fff;
    background: rgba(255, 213, 248, 0.2);
}

/* Pie chart container */
.pie-chart-container {
display: flex;
justify-content: center;
margin: 20px 0;
}

.pie-chart {
width: 200px;
height: 200px;
border-radius: 50%;
position: relative;
transform: rotate(-90deg);
}

/* Traits section */
.traits-section {
position: absolute;
top: 60px;
left: 20px;
width: 120px;
}

.traits-title {
font-size: 16px;
color: #FFD5F8;
margin-bottom: 10px;
font-weight: bold;
}

.trait-item {
background: linear-gradient(135deg, #333 0%, #555 100%);
color: white;
padding: 4px 8px;
border-radius: 12px;
font-size: 12px;
margin-bottom: 8px;
cursor: pointer;
transition: all 0.3s ease;
display: inline-block;
}

.trait-item:hover {
background: linear-gradient(135deg, #FFD5F8 0%, #8a2be2 100%);
transform: scale(1.05);
}

/* Trait bars popup */
.trait-popup {
    position: fixed;
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid #333;
    border-radius: 15px;
    padding: 15px;
    z-index: 1000;
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.3s ease;
    pointer-events: none;
}

.trait-popup.active {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
}

.trait-popup::before {
content: '';
position: absolute;
width: 2px;
height: 30px;
background: #FFD5F8;
top: -30px;
left: 50%;
transform: translateX(-50%);
}

.trait-popup::after {
content: '';
position: absolute;
width: 10px;
height: 10px;
background: #FFD5F8;
border-radius: 50%;
top: -40px;
left: 50%;
transform: translateX(-50%);
}

.trait-bars {
    display: flex;
    gap: 3px;
    margin-top: 5px;
}

.trait-bar {
    width: 12px;
    height: 12px;
    background: #333;
    border-radius: 3px;
    transition: all 0.3s ease;
}

.trait-bar.filled {
    background: linear-gradient(135deg, #FFD5F8 0%, #CCCCCC 100%);
}

/* Friendly section */
.friendly-section {
position: absolute;
bottom: 20px;
left: 20px;
display: flex;
align-items: center;
gap: 10px;
}

.friendly-label {
font-size: 16px;
color: #FFD5F8;
font-weight: bold;
}

.friendly-icon {
width: 24px;
height: 24px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 50%;
font-size: 16px;
}

.friendly-icon.yes {
background: #4CAF50;
color: white;
}

.friendly-icon.no {
background: #f44336;
color: white;
}

/* Animations */
@keyframes fadeInUp {
from {
opacity: 0;
transform: translateY(20px);
}
to {
opacity: 1;
transform: translateY(0);
}
}

.stats-content .type-badge {
animation: fadeInUp 0.5s ease 0.1s both;
}

.stats-content .pie-chart-container {
animation: fadeInUp 0.5s ease 0.2s both;
}

.stats-content .traits-section {
animation: fadeInUp 0.5s ease 0.3s both;
}

.stats-content .friendly-section {
animation: fadeInUp 0.5s ease 0.4s both;
}

/* Information page */
.info-section {
background: linear-gradient(135deg, #111 0%, #222 100%);
border-radius: 15px;
padding: 30px;
margin: 25px 0;
border-left: 4px solid #FFD5F8;
box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
}

.info-section h3 {
color: #FFD5F8;
margin-bottom: 20px;
font-size: 24px;
font-family: var(--info-title-font, var(--title-font, var(--main-font, 'Arial', sans-serif)));
}

.info-section p {
color: #ccc;
line-height: 1.7;
font-size: 16px;
font-family: var(--info-content-font, var(--content-font, var(--main-font, 'Arial', sans-serif)));
}

/* What to look for page */
.examples-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
gap: 30px;
margin: 40px 0;
}

.example-item {
background: linear-gradient(135deg, #111 0%, #222 100%);
border-radius: 15px;
padding: 25px;
border: 1px solid #333;
transition: transform 0.3s ease;
}

.example-item:hover {
transform: translateY(-5px);
box-shadow: 0 10px 30px rgba(255, 213, 248 0.2);
}

.example-img {
width: 100%;
height: 200px;
object-fit: cover;
border-radius: 10px;
margin-bottom: 20px;
}

.example-item h4 {
color: #FFD5F8;
margin-bottom: 15px;
font-size: 20px;
font-family: var(--lookfor-title-font, var(--title-font, var(--main-font, 'Arial', sans-serif)));
}

.example-item p {
color: #ccc;
line-height: 1.6;
font-family: var(--content-font, var(--main-font, 'Arial', sans-serif));
}

/* Board page */
.board-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
gap: 20px;
margin: 40px 0;
}

.board-item {
background: linear-gradient(135deg, #111 0%, #222 100%);
border-radius: 15px;
overflow: hidden;
border: 1px solid #333;
transition: transform 0.3s ease;
}

.board-item:hover {
transform: scale(1.05);
box-shadow: 0 10px 30px rgba(255, 213, 248 0.2);
}

.board-media {
width: 100%;
height: 200px;
object-fit: cover;
}

.board-caption {
padding: 15px;
font-size: 14px;
color: #ccc;
font-family: var(--board-caption-font, var(--content-font, var(--main-font, 'Arial', sans-serif)));
}

/* Resources page */
.resource-list {
list-style: none;
}

.resource-item {
background: linear-gradient(135deg, #111 0%, #222 100%);
border-radius: 15px;
padding: 25px;
margin: 20px 0;
border: 1px solid #333;
transition: transform 0.3s ease;
}

.resource-item:hover {
transform: translateY(-3px);
box-shadow: 0 10px 30px rgba(255, 213, 248 0.2);
}

.resource-item h4 {
color: #FFD5F8;
margin-bottom: 15px;
font-size: 20px;
font-family: var(--resource-title-font, var(--title-font, var(--main-font, 'Arial', sans-serif)));
}

.resource-item p {
color: #ccc;
margin-bottom: 15px;
line-height: 1.6;
font-family: var(--resource-content-font, var(--content-font, var(--main-font, 'Arial', sans-serif)));
}

.resource-link {
color: #69b4ff;
text-decoration: none;
font-weight: bold;
font-family: var(--button-font, var(--main-font, 'Arial', sans-serif));
}

.resource-link:hover {
text-decoration: underline;
color: #FFD5F8;
}

/* Responsive design */
@media (max-width: 768px) {
.main-content.shifted {
margin-left: 0;
}

.sidebar {
width: 100%;
left: -100%;
}

.hero-title-image {
max-height: 80px;
}

.cta-buttons {
flex-direction: column;
align-items: center;
}

.examples-grid {
grid-template-columns: 1fr;
}

.board-grid {
grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
}
}

/* Scrollbar styling */
::-webkit-scrollbar {
width: 8px;
}

::-webkit-scrollbar-track {
background: #111;
}

::-webkit-scrollbar-thumb {
background: linear-gradient(135deg, #FFD5F8 0%, #8a2be2 100%);
border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
background: linear-gradient(135deg, #8a2be2 0%, #FFD5F8 100%);
}
</style>
</head>
<body>
<div class="background-wrapper">
<div class="bg-overlay"></div>
<div class="bg-pattern"></div>
<div class="floating-particles" id="particles"></div>
</div>

<button class="nav-toggle" id="navToggle">></button>

<div class="sidebar" id="sidebar">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394211233078575164/20250714_020523.png?ex=6875fbe5&is=6874aa65&hm=483bd1fe8e718370f5371d90b4078028cf761495aca0f18d3401caef421cd105&=&format=webp&quality=lossless" alt="ComGirl Wiki Logo" class="sidebar-logo" id="sidebarLogo">
<div class="nav-item" data-page="home">
<div class="nav-icon">
<img src="https://cdn.discordapp.com/attachments/1369432745155231764/1394269714838061056/20250714_063630.png?ex=6876325c&is=6874e0dc&hm=04c9e687c44b153ef9af177a80be7215d81156cd1d2e660383d08bc470dbfa99&" alt="Home" id="nav-icon-home">
</div>
<div class="nav-text">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394263162399883314/20250714_060916.png?ex=68762c42&is=6874dac2&hm=42a9dc8ccc454a5782bbada129d0f97af2af444df15fb6fb3db9624b73ed72dd&=&format=webp&quality=lossless" alt="Home" id="nav-text-home">
</div>
</div>
<div class="nav-item" data-page="archive">
<div class="nav-icon">
<img src="https://cdn.discordapp.com/attachments/1369432745155231764/1394269714456383539/20250714_063754.png?ex=6876325c&is=6874e0dc&hm=97a95e2ed2be468fc39620fc937dc5c6cea579fea8a334c87800fb22be2419a9&" alt="Archive" id="nav-icon-archive">
</div>
<div class="nav-text">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394263162857193526/20250714_061055.png?ex=68762c42&is=6874dac2&hm=40e1811efc33a01f20ae28cb92b78bdf4167bd0e63223f5919d1a9312ba76dfc&=&format=webp&quality=lossless" alt="Archive" id="nav-text-archive">
</div>
</div>
<div class="nav-item" data-page="information">
<div class="nav-icon">
<img src="https://cdn.discordapp.com/attachments/1369432745155231764/1394269715198640268/20250714_063938.png?ex=6876325c&is=6874e0dc&hm=4d4758b51e2b3767c9504b43ff25f96af051fceb1ac5258ab5ba327f1d020017&" alt="Information" id="nav-icon-information">
</div>
<div class="nav-text">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394263163335086200/20250714_061510.png?ex=68762c42&is=6874dac2&hm=6d86ad898e3f57c40177d6f483c5d5a6d4766eb58f944032b10bb81dc5b25f9f&=&format=webp&quality=lossless&width=808&height=430" alt="Information" id="nav-text-information">
</div>
</div>
<div class="nav-item" data-page="lookfor">
<div class="nav-icon">
<img src="https://cdn.discordapp.com/attachments/1369432745155231764/1394269715660148847/20250714_064616.png?ex=6876325c&is=6874e0dc&hm=c558d099f5ad2bd975d3542d8b66b138a6a8c6a262c8d2c66b30992ed29ab9ac&" alt="Look For" id="nav-icon-lookfor">
</div>
<div class="nav-text">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394263164245508126/20250714_061758.png?ex=68762c42&is=6874dac2&hm=a85c694a6b1efbd371607637a8bcb27fb270c8d1f0eb613864e05807282c4d33&=&format=webp&quality=lossless&width=808&height=356" alt="What to Look For" id="nav-text-lookfor">
</div>
</div>
<div class="nav-item" data-page="board">
<div class="nav-icon">
<img src="https://cdn.discordapp.com/attachments/1369432745155231764/1394269715991625768/20250714_064710.png?ex=6876325c&is=6874e0dc&hm=25f9d637b023d3f2478c9fde99fce9e21884aeb4e4af3ed574cb789cf1baca96&" alt="Board" id="nav-icon-board">
</div>
<div class="nav-text">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394263163733671956/20250714_061939.png?ex=68762c42&is=6874dac2&hm=166bb714ccd5caae832f46947acca58f3076d683662fa23708fe37729bc20cb4&=&format=webp&quality=lossless&width=808&height=246" alt="Board" id="nav-text-board">
</div>
</div>
<div class="nav-item" data-page="resources">
<div class="nav-icon">
<img src="https://cdn.discordapp.com/attachments/1369432745155231764/1394269716394283041/20250714_064916.png?ex=6876325c&is=6874e0dc&hm=fcb3b17da53878a89fdf0761910150370201b2be7e115710e2874b446b4428c8&" alt="Resources" id="nav-icon-resources">
</div>
<div class="nav-text">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394263164526268556/20250714_062120.png?ex=68762c42&is=6874dac2&hm=e2cc57aa5fa86944bd06bb2c42de167398c1152d96eef92a21dafc17e902731c&=&format=webp&quality=lossless&width=808&height=144" alt="Resources" id="nav-text-resources">
</div>
</div>
</div>

<div class="main-content" id="mainContent">
<!-- Home Page -->
<div class="page active" id="home">
<section class="hero">
<div class="hero-content">
<div class="hero-title-container">
<img src="https://media.discordapp.net/attachments/1369432745155231764/1394211233078575164/20250714_020523.png?ex=6875fbe5&is=6874aa65&hm=483bd1fe8e718370f5371d90b4078028cf761495aca0f18d3401caef421cd105&=&format=webp&quality=lossless" alt="ComGirl Wiki" class="hero-title-image" id="heroTitleImage">
</div>
<p id="heroSubtitle">Your comprehensive guide to ComGirl culture and aesthetics</p>
<div class="cta-buttons">
<a href="#" class="cta-button primary" data-page="information">Explore Now</a>
<a href="#" class="cta-button secondary" data-page="board">View Gallery</a>
</div>
</div>
</section>
</div>

<!-- Archive Page -->
<div class="page" id="archive">
    <div class="content-section">
        <h2 class="section-title">Archive</h2>
        <div class="profiles-container" id="profilesContainer">
            <!-- Profiles will be populated here -->
        </div>
    </div>
</div>


<!-- Information Page -->
<div class="page" id="information">
<div class="content-section">
<h2 class="section-title">ComGirl Information</h2>
<div class="info-section">
<h3>What is ComGirl?</h3>
<p>ComGirl is a contemporary digital aesthetic and cultural movement that emerged from online communities, characterized by specific visual elements, behaviors, and cultural markers.</p>
</div>
<div class="info-section">
<h3>Origins</h3>
<p>The ComGirl aesthetic originated in early 2020s internet culture, drawing influences from various online subcultures and digital art movements.</p>
</div>
<div class="info-section">
<h3>Cultural Impact</h3>
<p>ComGirl culture has influenced fashion, digital art, social media trends, and online community building across various platforms.</p>
</div>
</div>
</div>

<!-- What to Look For Page -->
<div class="page" id="lookfor">
<div class="content-section">
<h2 class="section-title">What to Look For</h2>
<div class="examples-grid">
<div class="example-item">
<img src="https://via.placeholder.com/350x200/FFD5F8/000000?text=Example+1" alt="Example 1" class="example-img">
<h4>Visual Aesthetic</h4>
<p>Key visual elements include specific color palettes, styling choices, and digital presentation methods.</p>
</div>
<div class="example-item">
<img src="https://via.placeholder.com/350x200/8a2be2/000000?text=Example+2" alt="Example 2" class="example-img">
<h4>Cultural Markers</h4>
<p>Behavioral patterns, language usage, and cultural references that define the ComGirl aesthetic.</p>
</div>
<div class="example-item">
<img src="https://via.placeholder.com/350x200/ff1493/000000?text=Example+3" alt="Example 3" class="example-img">
<h4>Style Elements</h4>
<p>Fashion choices, makeup styles, and overall presentation that characterize the look.</p>
</div>
</div>
</div>
</div>

<!-- Board Page -->
<div class="page" id="board">
<div class="content-section">
<h2 class="section-title">ComGirl Board</h2>
<div class="board-grid">
<div class="board-item">
<img src="https://via.placeholder.com/280x200/FFD5F8/000000?text=Board+1" alt="Board Item 1" class="board-media">
<div class="board-caption">Example ComGirl aesthetic #1</div>
</div>
<div class="board-item">
<img src="https://via.placeholder.com/280x200/8a2be2/000000?text=Board+2" alt="Board Item 2" class="board-media">
<div class="board-caption">Style reference #2</div>
</div>
<div class="board-item">
<img src="https://via.placeholder.com/280x200/ff1493/000000?text=Board+3" alt="Board Item 3" class="board-media">
<div class="board-caption">Cultural example #3</div>
</div>
<div class="board-item">
<img src="https://via.placeholder.com/280x200/9932cc/000000?text=Board+4" alt="Board Item 4" class="board-media">
<div class="board-caption">Aesthetic inspiration #4</div>
</div>
<div class="board-item">
<img src="https://via.placeholder.com/280x200/ba55d3/000000?text=Board+5" alt="Board Item 5" class="board-media">
<div class="board-caption">Fashion reference #5</div>
</div>
<div class="board-item">
<img src="https://via.placeholder.com/280x200/da70d6/000000?text=Board+6" alt="Board Item 6" class="board-media">
<div class="board-caption">Makeup inspiration #6</div>
</div>
</div>
</div>
</div>

<!-- Resources Page -->
<div class="page" id="resources">
<div class="content-section">
<h2 class="section-title">Resources</h2>
<ul class="resource-list">
<li class="resource-item">
<h4>Online Communities</h4>
<p>Active forums and social media groups where ComGirl culture thrives.</p>
<a href="#" class="resource-link">Visit Community Hub</a>
</li>
<li class="resource-item">
<h4>Style Guides</h4>
<p>Comprehensive guides on achieving the ComGirl aesthetic.</p>
<a href="#" class="resource-link">View Style Guide</a>
</li>
<li class="resource-item">
<h4>Cultural References</h4>
<p>Important cultural touchstones and references within ComGirl culture.</p>
<a href="#" class="resource-link">Explore References</a>
</li>
<li class="resource-item">
<h4>Creative Tools</h4>
<p>Software and tools commonly used in ComGirl content creation.</p>
<a href="#" class="resource-link">Download Tools</a>
</li>
</ul>
</div>
</div>
</div>

<script>
// Custom Font Configuration
const FONT_CONFIG = {
    // Hero page fonts
    heroTitle: {
        family: "HeroTitle",
        url: "/fonts/herotitle.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    heroSubtitle: {
        family: "HeroSubtitle",
        url: "/fonts/herosubtitle.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    ctaButtons: {
        family: "CtaButtons",
        url: "/fonts/ctabuttons.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    
    // Archive page fonts
    archiveTitle: {
        family: "ArchiveTitle",
        url: "/fonts/spotify.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    username: {
        family: "Username",
        url: "/fonts/username.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    description: {
        family: "Description",
        url: "/fonts/description.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    actionButtons: {
        family: "ActionButtons",
        url: "/fonts/actionbuttons.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    
    // Information page fonts
    infoSectionTitles: {
        family: "InfoSectionTitles",
        url: "/fonts/infosectiontitles.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    infoSectionContent: {
        family: "InfoSectionContent",
        url: "/fonts/infosectioncontent.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    
    // What to Look For page fonts
    exampleTitles: {
        family: "ExampleTitles",
        url: "/fonts/exampletitles.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    exampleContent: {
        family: "ExampleContent",
        url: "/fonts/examplecontent.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    
    // Board page fonts
    boardCaptions: {
        family: "BoardCaptions",
        url: "/fonts/boardcaptions.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    
    // Resources page fonts
    resourceTitles: {
        family: "ResourceTitles",
        url: "/fonts/resourcetitles.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    resourceContent: {
        family: "ResourceContent",
        url: "/fonts/resourcecontent.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    resourceLinks: {
        family: "ResourceLinks",
        url: "/fonts/resourcelinks.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    
    // Navigation fonts
    navText: {
        family: "NavText",
        url: "/fonts/navtext.woff2",
        fallback: "'JetBrains Mono', monospace"
    },
    
    // Section titles (used across multiple pages)
    sectionTitles: {
        family: "SectionTitles",
        url: "/fonts/sectiontitles.woff2",
        fallback: "'JetBrains Mono', monospace"
    }
};

// Load custom fonts from files
function loadCustomFonts() {
    // Create style element for font faces
    const fontStyle = document.createElement('style');
    fontStyle.id = 'custom-font-faces';
    
    // Build CSS for all configured fonts
    let fontFacesCSS = '';
    
    // Process each font in the configuration
    Object.entries(FONT_CONFIG).forEach(([key, font]) => {
        if (font.url && font.family) {
            fontFacesCSS += `
                @font-face {
                    font-family: '${font.family}';
                    src: url('${font.url}') format('woff2');
                    font-weight: normal;
                    font-style: normal;
                    font-display: swap;
                }
            `;
        }
    });
    
    // Add the font faces to the style element
    fontStyle.textContent = fontFacesCSS;
    document.head.appendChild(fontStyle);
}

// Apply custom fonts to elements
function applyCustomFonts() {
    // Hero page elements
    if (FONT_CONFIG.heroTitle) {
        const heroTitle = document.getElementById('heroTitleImage');
        if (heroTitle) {
            heroTitle.style.fontFamily = FONT_CONFIG.heroTitle.family + ', ' + FONT_CONFIG.heroTitle.fallback;
        }
    }
    
    if (FONT_CONFIG.heroSubtitle) {
        const heroSubtitle = document.getElementById('heroSubtitle');
        if (heroSubtitle) {
            heroSubtitle.style.fontFamily = FONT_CONFIG.heroSubtitle.family + ', ' + FONT_CONFIG.heroSubtitle.fallback;
        }
    }
    
    if (FONT_CONFIG.ctaButtons) {
        const ctaButtons = document.querySelectorAll('.cta-button');
        ctaButtons.forEach(button => {
            button.style.fontFamily = FONT_CONFIG.ctaButtons.family + ', ' + FONT_CONFIG.ctaButtons.fallback;
        });
    }
    
    // Archive page elements
    if (FONT_CONFIG.archiveTitle) {
        const sectionTitles = document.querySelectorAll('.section-title');
        sectionTitles.forEach(title => {
            title.style.fontFamily = FONT_CONFIG.archiveTitle.family + ', ' + FONT_CONFIG.archiveTitle.fallback;
        });
    }
    
    if (FONT_CONFIG.username) {
        const usernames = document.querySelectorAll('.username');
        usernames.forEach(username => {
            username.style.fontFamily = FONT_CONFIG.username.family + ', ' + FONT_CONFIG.username.fallback;
        });
    }
    
    if (FONT_CONFIG.description) {
        const descriptions = document.querySelectorAll('.description');
        descriptions.forEach(desc => {
            desc.style.fontFamily = FONT_CONFIG.description.family + ', ' + FONT_CONFIG.description.fallback;
        });
    }
    
    if (FONT_CONFIG.actionButtons) {
        const actionButtons = document.querySelectorAll('.action-btn');
        actionButtons.forEach(button => {
            button.style.fontFamily = FONT_CONFIG.actionButtons.family + ', ' + FONT_CONFIG.actionButtons.fallback;
        });
    }
    
    // Information page elements
    if (FONT_CONFIG.infoSectionTitles) {
        const infoTitles = document.querySelectorAll('.info-section h3');
        infoTitles.forEach(title => {
            title.style.fontFamily = FONT_CONFIG.infoSectionTitles.family + ', ' + FONT_CONFIG.infoSectionTitles.fallback;
        });
    }
    
    if (FONT_CONFIG.infoSectionContent) {
        const infoContent = document.querySelectorAll('.info-section p');
        infoContent.forEach(content => {
            content.style.fontFamily = FONT_CONFIG.infoSectionContent.family + ', ' + FONT_CONFIG.infoSectionContent.fallback;
        });
    }
    
    // What to Look For page elements
    if (FONT_CONFIG.exampleTitles) {
        const exampleTitles = document.querySelectorAll('.example-item h4');
        exampleTitles.forEach(title => {
            title.style.fontFamily = FONT_CONFIG.exampleTitles.family + ', ' + FONT_CONFIG.exampleTitles.fallback;
        });
    }
    
    if (FONT_CONFIG.exampleContent) {
        const exampleContent = document.querySelectorAll('.example-item p');
        exampleContent.forEach(content => {
            content.style.fontFamily = FONT_CONFIG.exampleContent.family + ', ' + FONT_CONFIG.exampleContent.fallback;
        });
    }
    
    // Board page elements
    if (FONT_CONFIG.boardCaptions) {
        const boardCaptions = document.querySelectorAll('.board-caption');
        boardCaptions.forEach(caption => {
            caption.style.fontFamily = FONT_CONFIG.boardCaptions.family + ', ' + FONT_CONFIG.boardCaptions.fallback;
        });
    }
    
    // Resources page elements
    if (FONT_CONFIG.resourceTitles) {
        const resourceTitles = document.querySelectorAll('.resource-item h4');
        resourceTitles.forEach(title => {
            title.style.fontFamily = FONT_CONFIG.resourceTitles.family + ', ' + FONT_CONFIG.resourceTitles.fallback;
        });
    }
    
    if (FONT_CONFIG.resourceContent) {
        const resourceContent = document.querySelectorAll('.resource-item p');
        resourceContent.forEach(content => {
            content.style.fontFamily = FONT_CONFIG.resourceContent.family + ', ' + FONT_CONFIG.resourceContent.fallback;
        });
    }
    
    if (FONT_CONFIG.resourceLinks) {
        const resourceLinks = document.querySelectorAll('.resource-link');
        resourceLinks.forEach(link => {
            link.style.fontFamily = FONT_CONFIG.resourceLinks.family + ', ' + FONT_CONFIG.resourceLinks.fallback;
        });
    }
    
    // Navigation elements
    if (FONT_CONFIG.navText) {
        const navText = document.querySelectorAll('.nav-text');
        navText.forEach(text => {
            text.style.fontFamily = FONT_CONFIG.navText.family + ', ' + FONT_CONFIG.navText.fallback;
        });
    }
}

// Initialize everything
window.addEventListener('DOMContentLoaded', () => {
    loadCustomFonts(); // New function name
    // ... other initializations ...
    applyCustomFonts(); // New function name
});

// Navigation functionality
const navToggle = document.getElementById('navToggle');
const sidebar = document.getElementById('sidebar');
const mainContent = document.getElementById('mainContent');
const navItems = document.querySelectorAll('.nav-item');
const pages = document.querySelectorAll('.page');

let sidebarOpen = false;

navToggle.addEventListener('click', () => {
sidebarOpen = !sidebarOpen;

if (sidebarOpen) {
sidebar.classList.add('active');
mainContent.classList.add('shifted');
navToggle.classList.add('flipped');
navToggle.classList.add('moved'); // Add this line

// Animate nav items
setTimeout(() => {
navItems.forEach(item => {
item.classList.add('animate');
});
}, 100);
} else {
sidebar.classList.remove('active');
mainContent.classList.remove('shifted');
navToggle.classList.remove('flipped');
navToggle.classList.remove('moved'); // Add this line

navItems.forEach(item => {
item.classList.remove('animate');
});
}
});

// Page navigation
navItems.forEach(item => {
item.addEventListener('click', () => {
const targetPage = item.dataset.page;

pages.forEach(page => {
page.classList.remove('active');
});

document.getElementById(targetPage).classList.add('active');

// Close sidebar on mobile
if (window.innerWidth <= 768) {
sidebar.classList.remove('active');
mainContent.classList.remove('shifted');
navToggle.classList.remove('flipped');
navToggle.classList.remove('moved'); // Add this line
sidebarOpen = false;

navItems.forEach(navItem => {
navItem.classList.remove('animate');
});
}
});
});

// CTA button navigation
document.querySelectorAll('.cta-button').forEach(button => {
button.addEventListener('click', (e) => {
e.preventDefault();
const targetPage = button.dataset.page;
if (targetPage) {
pages.forEach(page => {
page.classList.remove('active');
});

document.getElementById(targetPage).classList.add('active');
}
});
});

// Create floating particles
function createParticles() {
const particlesContainer = document.getElementById('particles');
const particleCount = 15;

for (let i = 0; i < particleCount; i++) {
const particle = document.createElement('div');
particle.className = 'particle';
particle.style.left = Math.random() * 100 + '%';
particle.style.animationDelay = Math.random() * 20 + 's';
particle.style.animationDuration = (Math.random() * 10 + 20) + 's';
particlesContainer.appendChild(particle);
}
}

// Initialize particles
createParticles();

// Configuration functions
function updateProfile(profilePic, username, description) {
document.getElementById('profilePic').src = profilePic;
document.getElementById('username').textContent = username;
document.getElementById('description').textContent = description;
}

function updateButton(buttonNumber, icon, text, link) {
document.getElementById(`btn${buttonNumber}Icon`).textContent = icon;
document.getElementById(`btn${buttonNumber}Text`).textContent = text;
document.getElementById(`btn${buttonNumber}`).href = link;
}

function updateNavIcon(page, iconSrc) {
document.getElementById(`nav-icon-${page}`).src = iconSrc;
}

function updateNavText(page, textSrc) {
document.getElementById(`nav-text-${page}`).src = textSrc;
}

function updateSidebarLogo(logoSrc) {
document.getElementById('sidebarLogo').src = logoSrc;
}

function updateHero(titleImage, subtitle) {
document.getElementById('heroTitleImage').src = titleImage;
document.getElementById('heroSubtitle').textContent = subtitle;
}

// New specific function for updating just the hero title image
function updateHeroTitleImage(imageSrc) {
document.getElementById('heroTitleImage').src = imageSrc;
}

// Font configuration function
function setFontConfig(newConfig) {
// Merge new config with existing config
Object.assign(FONT_CONFIG, newConfig);

// Reload fonts
loadFonts();
applyFonts();
}

// Multi-profile system
let allProfiles = [];
let currentProfileIndex = 0;

// Default profile template
const defaultProfile = {
    id: 'default',
    profilePic: 'https://via.placeholder.com/150x150/FFD5F8/000000?text=PFP',
    username: 'ComGirl Archive',
    description: 'Welcome to the ComGirl Archive - your comprehensive resource for everything related to ComGirl culture and aesthetics.',
    buttons: [
        { icon: '🔗', text: 'Gallery', link: '#' },
        { icon: '💬', text: 'Community', link: '#' },
        { icon: '📱', text: 'Social', link: '#' }
    ],
    type: { name: "Default Type", description: "Default description" },
    traits: [
        { name: "High Ego", level: 7 },
        { name: "Camgirl", level: 9 }
    ],
    friendly: true,
    pieChart: [
        { name: "Aesthetic", value: 30, color: "#FFD5F8" },
        { name: "Personality", value: 25, color: "#8a2be2" },
        { name: "Style", value: 20, color: "#ff1493" },
        { name: "Attitude", value: 25, color: "#9932cc" }
    ]
};

// Initialize with default profile
allProfiles.push(JSON.parse(JSON.stringify(defaultProfile)));

// Create a single profile card
function createProfileCard(profile, index) {
    const profileCard = document.createElement('div');
    profileCard.className = 'profile-card';
    profileCard.setAttribute('data-profile-id', profile.id);
    
    profileCard.innerHTML = `
        <button class="stats-toggle" data-profile-index="${index}">
            <img src="https://via.placeholder.com/24x24/ffffff/000000?text=📊" alt="Stats">
        </button>

        <div class="profile-content">
            <img src="${profile.profilePic}" alt="Profile Picture" class="profile-pic">
            <div class="username">${profile.username}</div>
            <div class="description">${profile.description}</div>
            <div class="action-buttons">
                ${profile.buttons.map((btn, btnIndex) => `
                    <a href="${btn.link}" class="action-btn">
                        <span>${btn.icon}</span>
                        <span>${btn.text}</span>
                    </a>
                `).join('')}
            </div>
        </div>

        <div class="stats-content">
            <div class="type-badge" data-profile-index="${index}">${profile.type.name}</div>
            <div class="pie-chart-container">
                <canvas class="pie-chart" width="200" height="200" data-profile-index="${index}"></canvas>
            </div>
            <div class="traits-section">
                <div class="traits-title">Traits</div>
                <div class="traits-container">
                    ${profile.traits.map(trait => `
                        <div class="trait-item" data-trait-name="${trait.name}" data-trait-level="${trait.level}" data-profile-index="${index}">
                            ${trait.name}
                        </div>
                    `).join('')}
                </div>
            </div>
            <div class="friendly-section">
                <div class="friendly-label">Friendly</div>
                <div class="friendly-icon ${profile.friendly ? 'yes' : 'no'}">
                    ${profile.friendly ? '✓' : '✗'}
                </div>
            </div>
        </div>
    `;
    
    return profileCard;
}

// Render all profiles
function renderProfiles() {
    const container = document.getElementById('profilesContainer');
    container.innerHTML = '';
    
    allProfiles.forEach((profile, index) => {
        const profileCard = createProfileCard(profile, index);
        container.appendChild(profileCard);
    });
    
    // Initialize event listeners
    initializeProfileEventListeners();
}

// Initialize event listeners for all profiles
function initializeProfileEventListeners() {
    // Stats toggle buttons
    document.querySelectorAll('.stats-toggle').forEach(button => {
        button.addEventListener('click', (e) => {
            const profileIndex = parseInt(e.target.closest('.stats-toggle').dataset.profileIndex);
            toggleStats(profileIndex);
        });
    });
    
    // Type badges
    document.querySelectorAll('.type-badge').forEach(badge => {
        badge.addEventListener('click', (e) => {
            const profileIndex = parseInt(e.target.dataset.profileIndex);
            handleTypeBadgeClick(e, profileIndex);
        });
    });
    
    // Trait items
    document.querySelectorAll('.trait-item').forEach(item => {
        item.addEventListener('click', (e) => {
            const profileIndex = parseInt(e.target.dataset.profileIndex);
            const traitName = e.target.dataset.traitName;
            const traitLevel = parseInt(e.target.dataset.traitLevel);
            showTraitPopup(e, { name: traitName, level: traitLevel });
        });
    });
}

// Toggle stats for a specific profile
function toggleStats(profileIndex) {
    const profileCard = document.querySelector(`[data-profile-id="${allProfiles[profileIndex].id}"]`);
    const statsToggle = profileCard.querySelector('.stats-toggle');
    const profileContent = profileCard.querySelector('.profile-content');
    const statsContent = profileCard.querySelector('.stats-content');
    
    const isStatsView = statsContent.classList.contains('active');
    
    if (isStatsView) {
        // Hide stats
        statsContent.classList.remove('active');
        statsToggle.classList.remove('active');
        setTimeout(() => {
            profileContent.classList.remove('hidden');
        }, 250);
    } else {
        // Show stats
        profileContent.classList.add('hidden');
        statsToggle.classList.add('active');
        setTimeout(() => {
            statsContent.classList.add('active');
            drawPieChart(profileIndex);
        }, 250);
    }
}

// Draw pie chart for specific profile
function drawPieChart(profileIndex) {
    const profile = allProfiles[profileIndex];
    const canvas = document.querySelector(`[data-profile-index="${profileIndex}"].pie-chart`);
    const ctx = canvas.getContext('2d');
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const radius = 90;

    let currentAngle = 0;
    const total = profile.pieChart.reduce((sum, item) => sum + item.value, 0);

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    profile.pieChart.forEach(item => {
        const sliceAngle = (item.value / total) * 2 * Math.PI;

        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
        ctx.closePath();
        ctx.fillStyle = item.color;
        ctx.fill();
        ctx.strokeStyle = '#333';
        ctx.lineWidth = 2;
        ctx.stroke();

        currentAngle += sliceAngle;
    });
}

// Add these variables at the top of your script section, after the FONT_CONFIG
let typePopupActive = false;
let currentTypePopup = null;

// Then add these functions after the drawPieChart function:

// Show trait popup
function showTraitPopup(event, trait) {
    // Remove existing popup
    const existingPopup = document.querySelector('.trait-popup');
    if (existingPopup) {
        existingPopup.remove();
    }

    const popup = document.createElement('div');
    popup.className = 'trait-popup';
    popup.innerHTML = `
        <div>${trait.name}</div>
        <div class="trait-bars">
            ${Array(10).fill(0).map((_, i) => 
                `<div class="trait-bar ${i < trait.level ? 'filled' : ''}"></div>`
            ).join('')}
        </div>
    `;

    document.body.appendChild(popup);

    const rect = event.target.getBoundingClientRect();
    popup.style.left = rect.left + 'px';
    popup.style.top = (rect.top - popup.offsetHeight - 50) + 'px';

    setTimeout(() => popup.classList.add('active'), 10);

    // Close popup when clicking outside
    setTimeout(() => {
        document.addEventListener('click', function closePopup(e) {
            if (!popup.contains(e.target) && e.target !== event.target) {
                popup.classList.remove('active');
                setTimeout(() => popup.remove(), 300);
                document.removeEventListener('click', closePopup);
            }
        });
    }, 100);
}

function closeTypePopup() {
    if (!currentTypePopup) return;
    
    const popup = currentTypePopup;
    const box = popup.querySelector('.popup-box');
    const horizontalLine = popup.querySelector('.line-horizontal');
    
    // Reverse animation sequence
    box.classList.remove('visible');
    
    setTimeout(() => {
        horizontalLine.style.width = '0';
        
        setTimeout(() => {
            popup.classList.remove('active');
            
            setTimeout(() => {
                popup.remove();
                currentTypePopup = null;
                typePopupActive = false;
            }, 300);
        }, 500);
    }, 300);
    
    document.removeEventListener('click', handleOutsideClick);
}

function handleOutsideClick(event) {
    if (currentTypePopup && !currentTypePopup.contains(event.target) && 
        !event.target.closest('.type-badge')) {
        closeTypePopup();
    }
}

// Updated type popup functions
function handleTypeBadgeClick(event, profileIndex) {
    event.stopPropagation();
    
    if (typePopupActive) {
        closeTypePopup();
    } else {
        showTypePopup(event, profileIndex);
    }
}

function showTypePopup(event, profileIndex) {
    const profile = allProfiles[profileIndex];
    
    // Remove any existing popup
    if (currentTypePopup) {
        currentTypePopup.remove();
    }
    
    const rect = event.target.getBoundingClientRect();
    const popup = document.createElement('div');
    popup.className = 'type-popup';
    
    // Calculate positions - line starts from right side of button
    const startX = rect.right; // Right edge of button
    const startY = rect.top + rect.height / 2; // Middle of button vertically
    const lineLength = 60;
    const boxOffset = 20;
    
    // Box appears below the end of the horizontal line
    const boxX = startX + lineLength + 10; // Small gap after line
    const boxY = startY + boxOffset; // Below the line
    
    // Ensure popup stays within viewport
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    
    // Adjust if popup would go off-screen horizontally
    let finalBoxX = boxX;
    if (boxX + 300 > viewportWidth) {
        finalBoxX = startX - lineLength - 310; // Flip to left side
    }
    
    // Adjust if popup would go off-screen vertically
    let finalBoxY = boxY;
    if (boxY + 150 > viewportHeight) {
        finalBoxY = startY - 150; // Move up
    }
    
    popup.innerHTML = `
        <div class="line-horizontal" style="left: ${startX}px; top: ${startY}px;"></div>
        <div class="popup-box" style="left: ${finalBoxX}px; top: ${finalBoxY}px;">
            <button class="close-btn">×</button>
            <h4>${profile.type.name}</h4>
            <p>${profile.type.description}</p>
        </div>
    `;
    
    document.body.appendChild(popup);
    currentTypePopup = popup;
    
    // Add close button functionality
    const closeBtn = popup.querySelector('.close-btn');
    closeBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        closeTypePopup();
    });
    
    // Animation sequence
    setTimeout(() => {
        popup.classList.add('active');
        
        // Step 1: Draw horizontal line from right side of button
        const horizontalLine = popup.querySelector('.line-horizontal');
        horizontalLine.style.width = lineLength + 'px';
        
        // Step 2: Show box after horizontal line completes
        setTimeout(() => {
            const box = popup.querySelector('.popup-box');
            box.classList.add('visible');
            typePopupActive = true;
        }, 500);
    }, 10);
    
    // Close popup when clicking outside
    setTimeout(() => {
        document.addEventListener('click', handleOutsideClick);
    }, 100);
}
// Configuration functions for multiple profiles
function addProfile(profileData) {
    const newProfile = {
        id: profileData.id || `profile_${Date.now()}`,
        profilePic: profileData.profilePic || 'https://via.placeholder.com/150x150/FFD5F8/000000?text=PFP',
        username: profileData.username || 'New Profile',
        description: profileData.description || 'New profile description',
        buttons: profileData.buttons || [
            { icon: '🔗', text: 'Link', link: '#' },
            { icon: '💬', text: 'Chat', link: '#' },
            { icon: '📱', text: 'Social', link: '#' }
        ],
        type: profileData.type || { name: "Default Type", description: "Default description" },
        traits: profileData.traits || [
            { name: "Trait 1", level: 5 },
            { name: "Trait 2", level: 7 }
        ],
        friendly: profileData.friendly !== undefined ? profileData.friendly : true,
        pieChart: profileData.pieChart || [
            { name: "Aesthetic", value: 30, color: "#FFD5F8" },
            { name: "Personality", value: 25, color: "#8a2be2" },
            { name: "Style", value: 20, color: "#ff1493" },
            { name: "Attitude", value: 25, color: "#9932cc" }
        ]
    };
    
    allProfiles.push(newProfile);
    renderProfiles();
    return newProfile.id;
}

function updateProfile(profileId, updates) {
    const profileIndex = allProfiles.findIndex(p => p.id === profileId);
    if (profileIndex !== -1) {
        allProfiles[profileIndex] = { ...allProfiles[profileIndex], ...updates };
        renderProfiles();
    }
}

function removeProfile(profileId) {
    const profileIndex = allProfiles.findIndex(p => p.id === profileId);
    if (profileIndex !== -1) {
        allProfiles.splice(profileIndex, 1);
        renderProfiles();
    }
}

function getProfile(profileId) {
    return allProfiles.find(p => p.id === profileId);
}

function getAllProfiles() {
    return [...allProfiles];
}

// Legacy function support (for backward compatibility)
function updateStats(statsData) {
    updateProfile('default', statsData);
}

function updateProfileType(name, description) {
    updateProfile('default', { type: { name, description } });
}

// Initialize everything
document.addEventListener('DOMContentLoaded', () => {
    renderProfiles();
});
</script>
</body>
</html>
